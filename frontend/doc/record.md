# 2018-02-03
## 导航面包屑设计
`Element UI` 的面包屑是多个平级结构，因此可以使用数组存储面包屑中的数据。
使用 `vuex` 存储数据，方便在各个路由之间导航时更新导航面包屑。

1. 在路由文件中，为每个在导航面包屑中显示的路由添加`meta`元信息,使用 `name`字段存储显示的名称。
2. 在 `router.afterEach` 钩子中检查每个命中的路由数组 `to.matched`，每个元信息中含有 `name` 属性字段的路由，均为要显示的路由。
3. 将寻找到的路由的 `meta.name` 添加到面包屑的数组中。
  ### 遇到的问题
  `Element UI` 的面包屑中，提供了一个 `to` 属性，用来跳转到相应的页面，上述生成面包屑的方法是，由于匹配的路由是从根目录开始的整体的路由，如：`/main/im` 和 `/main/im/create`，无论点击哪一级导航，都会将 `main` 组件重新加载。而在这里面，想要的效果是不再重新加载最外层的 `main` 组件。
## 404页面的设计
在 `router.beforeEach` 钩子中，检查匹配的路由个数，若 `to.matched` 长度为 0 ，则跳转到固定页面。
